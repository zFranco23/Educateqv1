(this.webpackJsonpeducateqv1=this.webpackJsonpeducateqv1||[]).push([[13],{1113:function(e,t,n){"use strict";n.r(t);var a=n(671),r=n.n(a),o=n(672),c=n(110),l=n(1),i=n(697),s=n.n(i),u=n(686),d=n(953),b=n(965),m=n(1489),j=n(993),f=n(975),h=n(160),p=n(632),v=n(1178),O=n.n(v),g=n(16),x=Object(b.a)({container:{marginTop:"1rem",marginBottom:"1rem"}});t.default=function(){var e=Object(l.useContext)(h.a).userId,t=x(),n=Object(l.useState)(""),a=Object(c.a)(n,2),i=a[0],b=a[1],v=Object(l.useState)(""),y=Object(c.a)(v,2),S=y[0],C=y[1],A=Object(l.useState)(""),k=Object(c.a)(A,2),w=k[0],E=k[1],B=Object(l.useState)([]),N=Object(c.a)(B,2),P=N[0],F=N[1],L=Object(l.useState)([]),_=Object(c.a)(L,2),M=_[0],T=_[1],W=Object(l.useState)([]),I=Object(c.a)(W,2),q=I[0],z=I[1],D=Object(l.useState)([]),G=Object(c.a)(D,2),J=(G[0],G[1]),R=Object(l.useState)(""),H=Object(c.a)(R,2),K=H[0],Q=H[1],U=Object(l.useState)([]),V=Object(c.a)(U,2),X=V[0],Y=V[1],Z=Object(l.useState)([]),$=Object(c.a)(Z,2),ee=($[0],$[1]),te=Object(l.useState)(null),ne=Object(c.a)(te,2),ae=ne[0],re=ne[1],oe=Object(l.useState)({}),ce=Object(c.a)(oe,2),le=ce[0],ie=ce[1],se=Object(l.useState)([]),ue=Object(c.a)(se,2),de=ue[0],be=ue[1],me=Object(l.useState)([]),je=Object(c.a)(me,2),fe=je[0],he=je[1],pe=Object(l.useState)([]),ve=Object(c.a)(pe,2),Oe=ve[0],ge=ve[1],xe=Object(l.useState)([]),ye=Object(c.a)(xe,2),Se=ye[0],Ce=ye[1],Ae=Object(l.useState)([]),ke=Object(c.a)(Ae,2),we=ke[0],Ee=ke[1],Be=Object(l.useState)(!1),Ne=Object(c.a)(Be,2),Pe=Ne[0],Fe=Ne[1],Le="https://api-colegio-g12.herokuapp.com/escuela/buscar-alumnos-del-tutor",_e="https://api-colegio-g12.herokuapp.com/escuela/ver-examenSemanal",Me=function(e){var t=e.map((function(e,t){return{orden:t+1,nombre:e.nombre,apellido:e.apellido,nota:e.nota}}));Y(t);var n=t.filter((function(e){return 11==e.nota})),a=t.filter((function(e){return e.nota>11})),r=t.filter((function(e){return e.nota<11}));ge(n),Ce(a),Ee(r)};function Te(e){return We.apply(this,arguments)}function We(){return(We=Object(o.a)(r.a.mark((function t(n){var a,o,c,l,i,s,u,d,m,j,f,h,p;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(Le,"/").concat(e));case 2:return a=t.sent,t.next=5,a.json();case 5:for(o=t.sent,c=o.alumnos,l=o.tutor.cursos,i=new Array,s=new Array,u=0;u<l.length;u++)i.includes(l[u].nombre)||s.push(l[u]),i.push(l[u].nombre);d=s.map((function(e,t){return{value:e.nombre,label:e.nombre,id:e._id}})),T(d),Q(d[0].value),m=c.map((function(e,t){return{id:e._id,nombre:e.nombre,apellido:e.apellido}})),F(m),j=d.find((function(e){return e.label==d[0].label})),f=j.id,b(f),h=n.filter((function(e){return e.curso==f&&"1"==e.semana})),J(h),p=h.map((function(e,t){var n=m.find((function(t){return t.id==e.alumno}));return n.nota=e.nota,n})),Me(p);case 22:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ie(){return(Ie=Object(o.a)(r.a.mark((function t(){var n,a,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return C("Semana 1"),E("1"),t.next=4,fetch("".concat(_e,"/").concat(e));case 4:return n=t.sent,t.next=7,n.json();case 7:a=t.sent,o=a.examen,z(o),Te(o);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function qe(e){Fe(!0);var t=new Array,n=new Array,a=new Array;if(["1","2","3","5","6","7"].forEach((function(n){var a=q.filter((function(t){return t.curso==e&&t.semana==n}));t.push(a)})),P.length>0&&q.length>0){var r,o;P.forEach((function(e){var c=e.id;r=0,o=new Array,t.forEach((function(e){var t=e.find((function(e){return e.alumno==c}));r+=t.nota,o.push(t.nota)})),a.push(o),n.push(r/6)}));var c=n.indexOf(Math.max.apply(null,n)),l=n.indexOf(Math.min.apply(null,n));re(P[c]),ie(P[l]),be(a[c]),he(a[l]),ee(n)}}Object(l.useEffect)((function(){!function(){Ie.apply(this,arguments)}()}),[]);var ze=Object(g.jsxs)("div",{style:{margin:"1rem"},children:[Object(g.jsxs)(p.a,{color:"danger",children:[Object(g.jsx)("span",{style:{fontWeight:"bold"},children:"\xa1Atenci\xf3n!"})," Alumnos desaprobados :"]}),Object(g.jsx)("div",{style:{marginLeft:"2rem"},children:we.map((function(e,t){return Object(g.jsx)(d.a,{variant:"h6",children:"".concat(e.nombre," ").concat(e.apellido," : ").concat(e.nota)},t)}))})]}),De=Object(g.jsxs)("div",{style:{margin:"1rem"},children:[Object(g.jsx)(p.a,{color:"primary",children:"Alumnos que aprobaron :"}),Object(g.jsx)("div",{style:{marginLeft:"2rem"},children:Se.map((function(e,t){return Object(g.jsx)(d.a,{variant:"h6",children:"".concat(e.nombre," ").concat(e.apellido," : ").concat(e.nota)},t)}))})]}),Ge=Object(g.jsxs)("div",{style:{margin:"1rem"},children:[Object(g.jsx)(p.a,{color:"warning",children:"Alumnos con nota regular :"}),Object(g.jsx)("div",{style:{marginLeft:"2rem"},children:Oe.map((function(e,t){return Object(g.jsx)(d.a,{variant:"h6",children:"".concat(e.nombre," ").concat(e.apellido," : ").concat(e.nota)},t)}))})]});return Object(g.jsxs)("div",{style:{maxWidth:"100%"},children:[(null===M||void 0===M?void 0:M.length)?Object(g.jsx)(j.a,{id:"outlined-select-currency-native",select:!0,label:"Curso",value:K,onChange:function(e){ee([]),re({}),ie({});var t=e.target.value;Q(t);var n=M.find((function(t){return t.label==e.target.value})).id;b(n);var a=q.filter((function(e){return e.curso==n&&e.semana==w}));J(a);var r=a.map((function(e,t){var n=P.find((function(t){return t.id==e.alumno}));return n.nota=e.nota,n}));Me(r),qe(n)},SelectProps:{native:!0},helperText:"Seleccione un Curso",variant:"outlined",style:{marginBottom:"1rem"},children:M.map((function(e){return Object(g.jsx)("option",{value:e.value,children:e.label},e.value)}))}):Object(g.jsx)(f.a,{size:50}),Object(g.jsx)(j.a,{style:{marginLeft:"1rem"},id:"standard-select-currency",select:!0,label:"Semana",value:S,onChange:function(e){var t=e.target.value;C(t);var n=t.substring(t.length-1,t.length);E(n);var a=q.filter((function(e){return e.curso==i&&e.semana==n}));J(a);var r=a.map((function(e,t){var n=P.find((function(t){return t.id==e.alumno}));return n.nota=e.nota,n}));Me(r)},SelectProps:{native:!0},helperText:"Seleccione semana",variant:"outlined",children:[{label:"Semana 1",value:"Semana 1"},{label:"Semana 2",value:"Semana 2"},{label:"Semana 3",value:"Semana 3"},{label:"Semana 5",value:"Semana 5"},{label:"Semana 6",value:"Semana 6"},{label:"Semana 7",value:"Semana 7"}].map((function(e){return Object(g.jsx)("option",{value:e.value,children:e.label},e.value)}))}),Object(g.jsx)(s.a,{columns:[{title:"Nro. Orden",field:"orden",type:"numeric"},{title:"Apellidos",field:"apellido"},{title:"Nombres",field:"nombre"},{title:"Nota",field:"nota",type:"numeric"}],data:X,title:"Secci\xf3n A - Ex\xe1menes Semanales",actions:[{icon:"edit",tooltip:"Editar Alumno",onClick:function(e,t){return alert("Has elegido editar al alumno:"+t.nombre)}},{icon:"delete",tooltip:"Eliminar Alumno",onClick:function(e,t){return window.confirm("\xbfEst\xe1s seguro de eliminar al alumno: "+t.nombre+"?")}}],options:{actionsColumnIndex:-1},localization:{header:{actions:"Acciones"}}}),Object(g.jsxs)(p.h,{style:{marginTop:"1rem"},children:[Object(g.jsxs)(p.l,{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center"},children:[Object(g.jsx)(d.a,{variant:"h6",children:"Cuadro de m\xe9rito"}),Object(g.jsx)(p.f,{style:{marginLeft:"1rem"},color:"info",variant:"outline",onClick:function(){return qe(i)},children:"Traer Datos"}),Pe&&Object(g.jsx)(O.a,{style:{marginLeft:"1rem"},onClick:function(){return Fe(!1)}})]}),Pe&&ae&&de&&Object(g.jsxs)(p.i,{children:[Object(g.jsxs)(d.a,{variant:"h6",color:"error",children:["Alumno con menor rendimiento : ","".concat(le.nombre," ").concat(le.apellido)]}),Object(g.jsxs)(d.a,{variant:"h6",children:["Alumno con mayor rendimiento : ","".concat(ae.nombre," ").concat(ae.apellido)]}),Object(g.jsx)(u.d,{datasets:[{label:"".concat(le.nombre),backgroundColor:"rgb(228,102,81,0.9)",data:fe},{label:"".concat(ae.nombre),backgroundColor:"rgb(0,216,255,0.9)",data:de}],labels:"meses"})]})]}),(null===X||void 0===X?void 0:X.length)&&function(){var e=Array(),n=Array(),a=0,r=0,o=0,c=0,l=0;X.forEach((function(t){var i=t.nombre,s=t.apellido,u=t.nota;e.push(parseFloat(u)),n.push("".concat(i," ").concat(s.charAt(0),".")),u>=0&&u<=3&&a++,u>=4&&u<=7&&r++,u>=8&&u<=11&&o++,u>=12&&u<=15&&c++,u>=16&&u<=20&&l++}));var i={labels:["0 - 3","4 - 7","8 - 11","12 - 15","16 - 20"],datasets:[{label:"Notas en rango",backgroundColor:"#BAE617",borderColor:"#8EAB22",borderWidth:1,hoverBackgroundColor:"#C8C536",hoverBorderColor:"98963C",data:[a,r,o,c,l]}]},s={labels:n,datasets:[{label:"Nota",backgroundColor:"green",borderColor:"green",borderWidth:2,hoverBackgroundColor:"#62D616",hoverBorderColor:"98963C",data:e,barPercentage:.5,categoryPercentage:1}]},b={maintainAspectRatio:!1,responsive:!0},j={labels:["Desaprobados","Aprobados","Neutral"],datasets:[{data:[we.length,Se.length,Oe.length],backgroundColor:["#FC0404","#36A2EB","#FFCE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]};return Object(g.jsxs)(m.a,{container:!0,className:t.container,children:[Object(g.jsxs)(m.a,{item:!0,xs:12,sm:12,md:12,children:[Object(g.jsx)(d.a,{style:{textAlign:"center",marginBottom:"0.5rem"},variant:"h6",children:" Grafico de alumno por nota "}),Object(g.jsx)(u.a,{style:{height:"300px"},type:"bar",datasets:s.datasets,labels:s.labels,options:b})]}),Object(g.jsxs)(m.a,{item:!0,xs:12,sm:12,md:6,className:t.graphic,children:[Object(g.jsx)(d.a,{style:{textAlign:"center",marginBottom:"0.5rem"},variant:"h6",children:" Gr\xe1fico de Barras"}),Object(g.jsx)(u.a,{type:"bar",datasets:i.datasets,labels:i.labels,options:b})]}),Object(g.jsxs)(m.a,{item:!0,xs:12,sm:12,md:6,className:t.graphic,children:[Object(g.jsx)(d.a,{style:{textAlign:"center",marginBottom:"0.5rem"},variant:"h6",children:"Resumen del salon"}),Object(g.jsx)(u.a,{type:"pie",datasets:j.datasets,labels:j.labels})]})]})}(),(null===we||void 0===we?void 0:we.length)>0&&ze,(null===Se||void 0===Se?void 0:Se.length)>0&&De,(null===Oe||void 0===Oe?void 0:Oe.length)>0&&Ge]})}},1178:function(e,t,n){"use strict";var a=n(634),r=n(646);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(1)),c=(0,a(n(1179)).default)(o.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=c},1179:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.createSvgIcon}});var a=n(664)},671:function(e,t,n){e.exports=n(379)},672:function(e,t,n){"use strict";function a(e,t,n,a,r,o,c){try{var l=e[o](c),i=l.value}catch(s){return void n(s)}l.done?t(i):Promise.resolve(i).then(a,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var c=e.apply(t,n);function l(e){a(c,r,o,l,i,"next",e)}function i(e){a(c,r,o,l,i,"throw",e)}l(void 0)}))}}n.d(t,"a",(function(){return r}))}}]);
//# sourceMappingURL=13.f1ea76ea.chunk.js.map