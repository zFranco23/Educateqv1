(this.webpackJsonpeducateqv1=this.webpackJsonpeducateqv1||[]).push([[17],{1447:function(e,t,a){"use strict";var n=a(623),r=a(13),c=a(1),o=(a(57),a(624)),i=a(643),l=a(625),s=a(856),u=a(658),d=Object(u.a)(c.createElement("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),p=Object(u.a)(c.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),b=Object(u.a)(c.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),m=Object(u.a)(c.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),j=Object(u.a)(c.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),f=a(974),h=a(629),v={success:c.createElement(d,{fontSize:"inherit"}),warning:c.createElement(p,{fontSize:"inherit"}),error:c.createElement(b,{fontSize:"inherit"}),info:c.createElement(m,{fontSize:"inherit"})},O=c.createElement(j,{fontSize:"small"}),g=c.forwardRef((function(e,t){var a=e.action,i=e.children,l=e.classes,u=e.className,d=e.closeText,p=void 0===d?"Close":d,b=e.color,m=e.icon,j=e.iconMapping,g=void 0===j?v:j,x=e.onClose,y=e.role,C=void 0===y?"alert":y,k=e.severity,S=void 0===k?"success":k,E=e.variant,w=void 0===E?"standard":E,M=Object(n.a)(e,["action","children","classes","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"]);return c.createElement(s.a,Object(r.a)({role:C,square:!0,elevation:0,className:Object(o.a)(l.root,l["".concat(w).concat(Object(h.a)(b||S))],u),ref:t},M),!1!==m?c.createElement("div",{className:l.icon},m||g[S]||v[S]):null,c.createElement("div",{className:l.message},i),null!=a?c.createElement("div",{className:l.action},a):null,null==a&&x?c.createElement("div",{className:l.action},c.createElement(f.a,{size:"small","aria-label":p,title:p,color:"inherit",onClick:x},O)):null)}));t.a=Object(l.a)((function(e){var t="light"===e.palette.type?i.a:i.i,a="light"===e.palette.type?i.i:i.a;return{root:Object(r.a)({},e.typography.body2,{borderRadius:e.shape.borderRadius,backgroundColor:"transparent",display:"flex",padding:"6px 16px"}),standardSuccess:{color:t(e.palette.success.main,.6),backgroundColor:a(e.palette.success.main,.9),"& $icon":{color:e.palette.success.main}},standardInfo:{color:t(e.palette.info.main,.6),backgroundColor:a(e.palette.info.main,.9),"& $icon":{color:e.palette.info.main}},standardWarning:{color:t(e.palette.warning.main,.6),backgroundColor:a(e.palette.warning.main,.9),"& $icon":{color:e.palette.warning.main}},standardError:{color:t(e.palette.error.main,.6),backgroundColor:a(e.palette.error.main,.9),"& $icon":{color:e.palette.error.main}},outlinedSuccess:{color:t(e.palette.success.main,.6),border:"1px solid ".concat(e.palette.success.main),"& $icon":{color:e.palette.success.main}},outlinedInfo:{color:t(e.palette.info.main,.6),border:"1px solid ".concat(e.palette.info.main),"& $icon":{color:e.palette.info.main}},outlinedWarning:{color:t(e.palette.warning.main,.6),border:"1px solid ".concat(e.palette.warning.main),"& $icon":{color:e.palette.warning.main}},outlinedError:{color:t(e.palette.error.main,.6),border:"1px solid ".concat(e.palette.error.main),"& $icon":{color:e.palette.error.main}},filledSuccess:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.success.main},filledInfo:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.info.main},filledWarning:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.warning.main},filledError:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.error.main},icon:{marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9},message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiAlert"})(g)},1451:function(e,t,a){"use strict";a.r(t);var n=a(671),r=a.n(n),c=a(672),o=a(110),i=a(1),l=a(697),s=a.n(l),u=a(965),d=a(993),p=a(632),b=a(160),m=a(953),j=a(1447),f=a(1489),h=a(781),v=a.n(h),O=a(13),g=a(623),x=(a(57),a(625)),y=a(624),C=i.forwardRef((function(e,t){var a=e.classes,n=e.className,r=Object(g.a)(e,["classes","className"]);return i.createElement(m.a,Object(O.a)({gutterBottom:!0,component:"div",ref:t,className:Object(y.a)(a.root,n)},r))})),k=Object(x.a)((function(e){return{root:{fontWeight:e.typography.fontWeightMedium,marginTop:-2}}}),{name:"MuiAlertTitle"})(C),S=a(16),E=Object(u.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}}}));t.default=function(){var e="https://api-colegio-g12.herokuapp.com/escuela/buscar-alumnos-del-tutor",t=Object(i.useContext)(b.a).userId,a=(E(),Object(i.useState)(!1)),n=Object(o.a)(a,2),l=n[0],u=n[1],h=Object(i.useState)(!1),O=Object(o.a)(h,2),g=O[0],x=O[1],y=Object(i.useState)(!1),C=Object(o.a)(y,2),w=C[0],M=C[1],z=Object(i.useState)(!1),A=Object(o.a)(z,2),L=A[0],N=A[1],W=Object(i.useState)(!1),I=Object(o.a)(W,2),T=I[0],$=I[1],R=Object(i.useState)(!1),H=Object(o.a)(R,2),q=H[0],P=H[1],V=Object(i.useState)(!1),_=Object(o.a)(V,2),B=_[0],J=_[1],Z=Object(i.useState)([]),D=Object(o.a)(Z,2),F=D[0],G=D[1],U=Object(i.useState)(""),K=Object(o.a)(U,2),Q=K[0],X=K[1],Y=Object(i.useState)([]),ee=Object(o.a)(Y,2),te=ee[0],ae=ee[1],ne=Object(i.useState)([]),re=Object(o.a)(ne,2),ce=re[0],oe=re[1],ie=Object(i.useState)(""),le=Object(o.a)(ie,2),se=le[0],ue=le[1],de=Object(i.useState)({}),pe=Object(o.a)(de,2),be=pe[0],me=pe[1],je=Object(i.useState)(""),fe=Object(o.a)(je,2),he=fe[0],ve=fe[1],Oe=Object(i.useState)(""),ge=Object(o.a)(Oe,2),xe=ge[0],ye=ge[1],Ce=Object(i.useState)(""),ke=Object(o.a)(Ce,2),Se=ke[0],Ee=ke[1],we=Object(i.useState)(!1),Me=Object(o.a)(we,2),ze=Me[0],Ae=Me[1],Le=function(){P(!1),N(!1),x(!1),$(!1),J(!1),u(!1),M(!1)},Ne=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.delete("https://api-colegio-g12.herokuapp.com/escuela/eliminar-observacion",{data:{observacionId:Se}});case 3:t=e.sent,t.data.ok&&(Ie(),Ae(!1),N(!0)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),P(!0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),We=function(){var e=Object(c.a)(r.a.mark((function e(a){var n,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api-colegio-g12.herokuapp.com/escuela/observacion-alumno","/").concat(t,"/").concat(a));case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,o=c.observacion,oe(o);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){Le(),ve(""),ue(""),me({})},Te=function(){var e=Object(c.a)(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(se.length<1)){e.next=4;break}M(!0),e.next=29;break;case 4:if(ze){e.next=18;break}return e.prev=5,e.next=8,v()({method:"POST",url:"https://api-colegio-g12.herokuapp.com/escuela/guardar-observacion",data:{descripcion:se,alumno:he,curso:xe,IdUser:t}});case 8:a=e.sent,a.data.ok&&(Ie(),u(!0)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),J(!0);case 16:e.next=29;break;case 18:return e.prev=18,e.next=21,v.a.put("https://api-colegio-g12.herokuapp.com/escuela/actualizar-observacion",{observacionId:Se,descripcion:se});case 21:n=e.sent,n.data.ok&&(Ie(),x(!0)),e.next=29;break;case 26:e.prev=26,e.t1=e.catch(18),$(!0);case 29:case"end":return e.stop()}}),e,null,[[5,13],[18,26]])})));return function(){return e.apply(this,arguments)}}();function $e(){return($e=Object(c.a)(r.a.mark((function a(){var n,c,o,i,l,s,u,d,p,b,m;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(e,"/").concat(t));case 2:return n=a.sent,a.next=5,n.json();case 5:for(c=a.sent,o=c.tutor.cursos,i=c.alumnos,l=i.map((function(e,t){return{id:e._id,orden:t+1,apellido:e.apellido,nombre:e.nombre}})),G(l),s=new Array,u=new Array,d=0;d<o.length;d++)s.includes(o[d].nombre)||u.push(o[d]),s.push(o[d].nombre);p=u.map((function(e,t){return{value:e.nombre,label:e.nombre,id:e._id}})),ae(p),X(p[0].value),b=p.find((function(e){return e.label==p[0].value})),m=b.id,ye(m);case 18:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(i.useEffect)((function(){!function(){$e.apply(this,arguments)}()}),[]),Object(S.jsxs)("div",{style:{maxWidth:"100%"},children:[Object(S.jsx)(d.a,{id:"outlined-select-currency-native",select:!0,value:Q,onChange:function(e){Ie(),X(e.target.value);var t=te.find((function(t){return t.label==e.target.value})).id;ye(t),We(t)},SelectProps:{native:!0},helperText:"Seleccione un Curso",variant:"outlined",children:te.map((function(e){return Object(S.jsx)("option",{value:e.value,children:e.label},e.value)}))}),Object(S.jsxs)(f.a,{container:!0,children:[Object(S.jsx)(f.a,{item:!0,xs:12,md:6,children:Object(S.jsx)(s.a,{columns:[{title:"Nro. Orden",field:"orden",type:"numeric"},{title:"Apellidos",field:"apellido"},{title:"Nombres",field:"nombre"}],data:F,title:"Secci\xf3n A",actions:[{icon:"edit",tooltip:"Editar Observaci\xf3n",onClick:function(e,t){return function(e){We(xe),Le(),u(!1),me({nombre:e.nombre,apellido:e.apellido});var t=F.find((function(t){return t.orden==e.orden}));ve(t.id);var a=ce.find((function(e){return e.alumno==t.id}));a?(Ae(!0),ue(a.descripcion),Ee(a._id)):(N(!1),Ae(!1),ue(""),Ee(""))}(t)}},{icon:"delete",tooltip:"Eliminar Observaci\xf3n",onClick:function(e,t){return x(!1),$(!1),J(!1),u(!1),M(!1),void me({})}}],options:{actionsColumnIndex:-1},localization:{header:{actions:"Acciones"}}})}),Object(S.jsx)(f.a,{item:!0,xs:12,md:6,children:Object(S.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexDirection:"column",alignItems:"center",paddingBottom:"4rem",justifyContent:"space-evenly"},children:[(null===be||void 0===be?void 0:be.nombre)&&Object(S.jsxs)(m.a,{variant:"h6",children:["Editando a : ","".concat(be.nombre," ").concat(be.apellido)]}),B&&Object(S.jsxs)(j.a,{variant:"outlined",severity:"error",children:[Object(S.jsx)(k,{children:"Error"}),Object(S.jsx)("strong",{children:"No se pudo registrar la observaci\xf3n."})," "]}),g&&Object(S.jsxs)(j.a,{variant:"outlined",severity:"success",children:[Object(S.jsx)(k,{children:"Correcto"}),Object(S.jsx)("strong",{children:"Se actualiz\xf3 correctamente la observaci\xf3n."})," "]}),q&&Object(S.jsxs)(j.a,{variant:"outlined",severity:"error",children:[Object(S.jsx)(k,{children:"Error"}),Object(S.jsx)("strong",{children:"No se pudo eliminar la observaci\xf3n."})," "]}),T&&Object(S.jsxs)(j.a,{variant:"outlined",severity:"error",children:[Object(S.jsx)(k,{children:"Error"}),Object(S.jsx)("strong",{children:"No se pudo actualizar la observaci\xf3n."})," "]}),w&&Object(S.jsxs)(j.a,{variant:"outlined",severity:"warning",children:[Object(S.jsx)(k,{children:"Atenci\xf3n"}),Object(S.jsx)("strong",{children:"La observaci\xf3n no deberia estar vacia..."})," "]}),L&&Object(S.jsxs)(j.a,{variant:"outlined",severity:"success",children:[Object(S.jsx)(k,{children:"Correcto"}),Object(S.jsx)("strong",{children:"Se elimin\xf3 la observaci\xf3n"})]}),l&&Object(S.jsxs)(j.a,{variant:"outlined",severity:"success",children:[Object(S.jsx)(k,{children:"Correcto"}),Object(S.jsx)("strong",{children:"Se registr\xf3 correctamente la observaci\xf3n"})]}),Object(S.jsx)(d.a,{id:"outlined-multiline-static",label:"Observaci\xf3n",value:se,style:{marginTop:"1rem",width:"350px"},multiline:!0,rows:8,variant:"outlined",onChange:function(e){var t=e.target.value;ue(e.target.value),t.length<1?M(!0):M(!1)}}),Object(S.jsxs)("div",{style:{display:"flex",marginTop:"1rem",justifyContent:"center"},children:[Object(S.jsx)(p.f,{color:"success",onClick:Te,children:ze?"Actualizar":"Guardar"}),Object(S.jsx)(p.f,{style:{marginLeft:"1rem"},color:"primary",onClick:Ie,children:"Cancelar"}),ze&&Object(S.jsx)(p.f,{style:{marginLeft:"1rem"},color:"danger",onClick:Ne,children:"Eliminar"})]})]})})]})]})}}}]);
//# sourceMappingURL=17.a8a7d05f.chunk.js.map