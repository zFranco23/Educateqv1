{"version":3,"sources":["views/alumno/cursos/Cursos.js"],"names":["useStyles","makeStyles","theme","modal","position","width","backgroundColor","palette","background","paper","border","boxShadow","shadows","padding","spacing","top","left","transform","iconos","cursor","inputMaterial","Cursos","url","userId","useContext","BackContext","styles","useState","dataCurso","setdataCurso","modalInsertar","setModalInsertar","modalEditar","setModalEditar","buscarId","orden","find","el","id","deleteCourse","a","axios","delete","data","idCurso","abrirCerrarModalInsertar","abrirCerrarModalEditar","getData","fetch","response","json","tutor","cursos","newData","map","curso","index","nombre","area","horas","cantidadHoras","_id","useEffect","bodyInsertar","className","label","type","align","color","style","marginRight","onClick","bodyEditar","maxWidth","float","marginBottom","length","columns","title","field","actions","icon","tooltip","event","rowData","value","window","confirm","options","actionsColumnIndex","localization","header","size","open","onClose"],"mappings":"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","file":"static/js/25.8fded0d0.chunk.js","sourcesContent":["import React,{useState, useEffect, useContext} from 'react';\r\nimport MaterialTable from 'material-table';\r\nimport {Modal, TextField, CircularProgress} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {\r\n    CButton\r\n  } from '@coreui/react';\r\nimport BackContext from 'src/Provider/BackContext';\r\nimport axios from 'axios';\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    modal: {\r\n      position: 'absolute',\r\n      width: 400,\r\n      backgroundColor: theme.palette.background.paper,\r\n      border: '2px solid #000',\r\n      boxShadow: theme.shadows[5],\r\n      padding: theme.spacing(2, 4, 3),\r\n      top: '50%',\r\n      left: '50%',\r\n      transform: 'translate(-50%, -50%)'\r\n    },\r\n    iconos:{\r\n      cursor: 'pointer'\r\n    }, \r\n    inputMaterial:{\r\n      width: '100%'\r\n    }\r\n  }));\r\n\r\nfunction Cursos() {\r\n\r\n    const url=\"https://api-colegio-g12.herokuapp.com/escuela/buscar-alumnos-del-tutor\";\r\n\r\n    const {userId} = useContext(BackContext);\r\n    const styles = useStyles();\r\n\r\n    const [dataCurso,setdataCurso] = useState([]);\r\n    const [modalInsertar,setModalInsertar]=useState(false);\r\n    const [modalEditar,setModalEditar]=useState(false);\r\n\r\n\r\n\r\n\r\n\r\n    const eliminarCurso = (value) =>{\r\n        if(window.confirm(`Desea eliminar a : ${value.curso}`)){\r\n            deleteCourse(buscarId(value.orden));\r\n            getData();           \r\n        }\r\n    }\r\n    const buscarId=(orden)=>{\r\n        const course=dataCurso.find(el => el.orden==orden);\r\n        return course.id;\r\n    }\r\n    const deleteCourse= async (id)=>{\r\n        const del=await axios.delete(\"https://api-colegio-g12.herokuapp.com/escuela/eliminar-curso\",\r\n        {\r\n            data :{\r\n                idCurso:id\r\n            }\r\n        }\r\n        )\r\n    }\r\n\r\n    const abrirCerrarModalInsertar=()=>{  \r\n        setModalInsertar(!modalInsertar);\r\n      }\r\n    \r\n\r\n    const abrirCerrarModalEditar=()=>{  \r\n      setModalEditar(!modalEditar);\r\n    }\r\n\r\n    async function getData(){\r\n        const response=await fetch(`${url}/${userId}`);\r\n        const {tutor} = await response.json();\r\n        const {cursos} = tutor;\r\n        \r\n        const newData=cursos.map((curso,index)=>(\r\n            {\r\n                orden:index+1,\r\n                curso:curso.nombre,\r\n                area:curso.area,\r\n                horas:curso.cantidadHoras,\r\n                id:curso._id\r\n            }\r\n        ))\r\n        setdataCurso(newData);\r\n        \r\n    }\r\n\r\n    useEffect(()=>{\r\n        getData();\r\n    },[])\r\n\r\n    const columns=[\r\n        {\r\n            title:'Nro. de Curso',\r\n            field:'orden',\r\n            type:\"numeric\"\r\n        },\r\n        {\r\n            title:'Curso',\r\n            field:'curso'\r\n        },\r\n        {\r\n            title:'Área',\r\n            field:'area'\r\n        },\r\n        {\r\n            title:'Horas',\r\n            field:'horas'\r\n        }\r\n    ];\r\n    /*\r\n    const data = [\r\n    \r\n        {orden:1, curso:'Matematica Básica I', area:'Ciencias', horas:'2'},\r\n        {orden:2, curso:'Religión', area:'Letras', horas:'2'},\r\n        {orden:3, curso:'Física', area:'Ciencias', horas:'2'},\r\n        {orden:4, curso:'Razonamiento Verbal', area:'Letras', horas:'2'},\r\n        {orden:5, curso:'Algebra', area:'Ciencias', horas:'2'}\r\n    ]\r\n    */\r\n\r\n    const bodyInsertar=(\r\n        <div className={styles.modal}>\r\n            <h3>Agregar Nuevo Curso</h3>\r\n            <TextField className={styles.inputMaterial} label=\"Nombre del Curso\"/><br/>\r\n            <TextField className={styles.inputMaterial} label=\"Área\"/><br/>\r\n            <TextField className={styles.inputMaterial} type=\"number\" label=\"Horas\"/><br/>\r\n            <br/><br/>\r\n            <div align=\"right\"> \r\n                <CButton color=\"info\" style={{marginRight:'5px'}}>Insertar</CButton>\r\n                <CButton color=\"danger\" onClick={()=>abrirCerrarModalInsertar()}>Cancelar</CButton>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    const bodyEditar=(\r\n        <div className={styles.modal}>\r\n            <h3>Editar Curso</h3>\r\n            <TextField className={styles.inputMaterial} label=\"Nombre del Curso\"/><br/>\r\n            <TextField className={styles.inputMaterial} label=\"Área\"/><br/>\r\n            <TextField className={styles.inputMaterial} type=\"number\" label=\"Horas\"/><br/>\r\n            <br/><br/>\r\n            <div align=\"right\"> \r\n                <CButton color=\"info\" style={{marginRight:'5px'}}>Aceptar</CButton>\r\n                <CButton color=\"danger\"  onClick={()=>abrirCerrarModalEditar()}>Cancelar</CButton>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    return (\r\n        <div style={{ maxWidth: \"100%\" }}>\r\n            <CButton color=\"success\" style={{ float:'right', marginBottom:'20px'}} onClick={()=>abrirCerrarModalInsertar()}>Agregar Curso</CButton>\r\n            <br/><br/>\r\n            {dataCurso.length>=0 ? (<MaterialTable\r\n                columns={columns}\r\n                data={dataCurso}\r\n                title=\"Sección A\"\r\n                actions={[\r\n                    {\r\n                        icon:'edit',\r\n                        tooltip: 'Editar Curso',\r\n                        //onClick:(event,rowData)=>alert('Has elegido editar al curso:'+rowData.curso)\r\n                        onClick:()=>abrirCerrarModalEditar()\r\n                    },\r\n                    {\r\n                        icon:'delete',\r\n                        tooltip: 'Eliminar Curso',\r\n                        onClick:(event,rowData)=>eliminarCurso(rowData)\r\n                    }\r\n\r\n                ]}\r\n                options={{\r\n                    actionsColumnIndex:-1\r\n                }}\r\n                localization={{\r\n                    header:{\r\n                        actions:'Acciones'\r\n                    }\r\n                }}\r\n            />) : <CircularProgress size=\"50\"/>}\r\n            <Modal\r\n                open={modalInsertar}\r\n                onClose={abrirCerrarModalInsertar}>\r\n                    {bodyInsertar}\r\n            </Modal>\r\n            <br/><br/>\r\n            <Modal\r\n                open={modalEditar}\r\n                onClose={abrirCerrarModalEditar}>\r\n                    {bodyEditar}\r\n            </Modal>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Cursos\r\n"],"sourceRoot":""}